(function(e){function t(t){for(var o,c,u=t[0],i=t[1],s=t[2],d=0,f=[];d<u.length;d++)c=u[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&f.push(r[c][0]),r[c]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);h&&h(t);while(f.length)f.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,c=1;c<n.length;c++){var u=n[c];0!==r[u]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},c={app:0},r={app:0},a=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-176c747f":"057c1291","chunk-2a62c222":"2b371d55","chunk-2b09f410":"7d39db2f","chunk-2d213365":"a1b9787e","chunk-45f14e21":"ec870bf6","chunk-57757e35":"440b89b0","chunk-5ab23881":"9f1e8a09","chunk-5b2401a4":"9178cb7c","chunk-63503417":"a150e03c","chunk-6b1bb9e7":"df40005d","chunk-6b766f9c":"2b08bf29","chunk-74f551bf":"b986eebc","chunk-76d93eb8":"50107172","chunk-7ab2493a":"82d23be1","chunk-7e81f178":"5e6a6bdf","chunk-e0e7440e":"bf69a008","chunk-e4035ac0":"e3163f00","chunk-f2072adc":"e5bbf7d4"}[e]+".js"}function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-2b09f410":1,"chunk-5ab23881":1,"chunk-5b2401a4":1,"chunk-76d93eb8":1,"chunk-e0e7440e":1,"chunk-e4035ac0":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var o="css/"+({}[e]||e)+"."+{"chunk-176c747f":"31d6cfe0","chunk-2a62c222":"31d6cfe0","chunk-2b09f410":"e133bb77","chunk-2d213365":"31d6cfe0","chunk-45f14e21":"31d6cfe0","chunk-57757e35":"31d6cfe0","chunk-5ab23881":"066f091f","chunk-5b2401a4":"1ec3bb2c","chunk-63503417":"31d6cfe0","chunk-6b1bb9e7":"31d6cfe0","chunk-6b766f9c":"31d6cfe0","chunk-74f551bf":"31d6cfe0","chunk-76d93eb8":"d735c697","chunk-7ab2493a":"31d6cfe0","chunk-7e81f178":"31d6cfe0","chunk-e0e7440e":"b5e998ad","chunk-e4035ac0":"f189db27","chunk-f2072adc":"31d6cfe0"}[e]+".css",r=i.p+o,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var s=a[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===o||d===r))return t()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){s=f[u],d=s.getAttribute("data-href");if(d===o||d===r)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var o=t&&t.target&&t.target.src||r,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete c[e],h.parentNode.removeChild(h),n(a)},h.href=r;var l=document.getElementsByTagName("head")[0];l.appendChild(h)})).then((function(){c[e]=0})));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=a);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=u(e);var f=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(h);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+o+": "+c+")",f.name="ChunkLoadError",f.type=o,f.request=c,n[1](f)}r[e]=void 0}};var h=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/Emily-record/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var h=d;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("4de4"),n("4160"),n("b64b"),n("159b"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),c=n("2f62"),r=n("bc3a"),a=n.n(r),u=n("2106"),i=n.n(u),s=n("9062"),d=n.n(s),f=(n("e40d"),n("4989"),n("f5af")),h=n.n(f),l=(n("e829"),n("7212")),p=n.n(l),m=(n("bbe3"),n("6d3b")),b=n("5dc8"),g=n("b42f"),v=n("d17a"),k=n("fb03"),E=n.n(k),O=n("7bb1"),S=n("4c93"),y=n("60d4"),A=n("1157"),T=n.n(A),_=function(e){var t=new Date(1e3*e);return t.toLocaleDateString()},D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},I=[],M={name:"App"},w=M,P=(n("5c0b"),n("2877")),L=Object(P["a"])(w,D,I,!1,null,null,null),R=L.exports,G=(n("d3b7"),n("8c4f"));o["default"].use(G["a"]);var C=[{path:"/",component:function(){return n.e("chunk-e0e7440e").then(n.bind(null,"ae58"))},children:[{path:"",name:"Home",component:function(){return n.e("chunk-f2072adc").then(n.bind(null,"ec5a"))}},{path:"login",name:"Login",component:function(){return n.e("chunk-2d213365").then(n.bind(null,"ac5b"))}},{path:"about",name:"About",component:function(){return n.e("chunk-2a62c222").then(n.bind(null,"9cbb"))}},{path:"products",name:"Products",component:function(){return n.e("chunk-176c747f").then(n.bind(null,"ed84"))}},{path:"/product/:id",name:"ProductDetail",component:function(){return n.e("chunk-5b2401a4").then(n.bind(null,"658f"))}},{path:"orders",name:"Orders",component:function(){return n.e("chunk-7e81f178").then(n.bind(null,"b5df"))}},{path:"cart",name:"Cart",component:function(){return n.e("chunk-2b09f410").then(n.bind(null,"62b3"))}},{path:"/checkout",component:function(){return n.e("chunk-45f14e21").then(n.bind(null,"f4b2"))},children:[{path:"order_create",name:"OrderCreate",component:function(){return n.e("chunk-6b766f9c").then(n.bind(null,"e28c"))}},{path:"order_paying/:orderId",name:"OrderPaying",component:function(){return n.e("chunk-63503417").then(n.bind(null,"0635"))}},{path:"order_paid/:orderId",name:"OrderPaid",component:function(){return n.e("chunk-6b1bb9e7").then(n.bind(null,"8011"))}}]}]},{path:"/admin",component:function(){return n.e("chunk-5ab23881").then(n.bind(null,"a76a"))},children:[{path:"products",name:"BackProducts",component:function(){return n.e("chunk-e4035ac0").then(n.bind(null,"5305"))},meta:{requiresAuth:!0}},{path:"coupon",name:"BackCoupon",component:function(){return n.e("chunk-57757e35").then(n.bind(null,"cad1"))},meta:{requiresAuth:!0}},{path:"orders",name:"BackOrders",component:function(){return n.e("chunk-7ab2493a").then(n.bind(null,"0cbc"))},meta:{requiresAuth:!0}}]},{path:"/backstage",component:function(){return n.e("chunk-5ab23881").then(n.bind(null,"a76a"))},children:[{path:"shopping",name:"Backshopping",component:function(){return n.e("chunk-76d93eb8").then(n.bind(null,"b639"))}},{path:"back_order_checkout/:orderId",name:"BackOrderCheckout",component:function(){return n.e("chunk-74f551bf").then(n.bind(null,"6c3f"))}}]},{path:"*",redirect:"/"}],N=new G["a"]({routes:C,linkActiveClass:"active",scrollBehavior:function(e,t,n){return{x:0,y:0}}}),F=N,j=(n("99af"),n("c740"),n("a630"),n("a434"),n("6062"),n("3ca3"),n("ddb0"),{namespaced:!0,state:{messages:[]},getters:{messages:function(e){return e.messages}},mutations:{UPDATE_MESSAGE:function(e,t){e.messages.push(t)},REMOVE_MESSAGE:function(e,t){e.messages.splice(t,1)}},actions:{updateMessage:function(e,t){var n=t.message,o=t.status,c=Math.floor(new Date/1e3);e.commit("UPDATE_MESSAGE",{message:n,status:o,timestamp:c}),e.dispatch("removeMessageWithTiming",c)},removeMessageWithTiming:function(e,t){setTimeout((function(){e.state.messages.forEach((function(n,o){n.timestamp===t&&e.commit("REMOVE_MESSAGE",o)}))}),5e3)},removeMessage:function(e,t){e.commit("REMOVE_MESSAGE",t)}}}),x={namespaced:!0,state:{products:[],product:{},favorites:[],categories:[]},actions:{getProducts:function(e){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("emily","/products/all");e.commit("LOADING",!0,{root:!0}),a.a.get(t).then((function(t){e.commit("GET_PRODUCTS",t.data.products),e.commit("CATEGORIES",t.data.products),e.commit("LOADING",!1,{root:!0})}))},getProduct:function(e,t){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("emily","/product/").concat(t);e.commit("LOADING",!0,{root:!0}),a.a.get(n).then((function(t){e.commit("GET_PRODUCT",t.data.product),T()("#productModal").modal("show"),e.commit("LOADING",!1,{root:!0})}))},getFavorites:function(e){var t=JSON.parse(localStorage.getItem("favorites"))||[];e.commit("SET_FAVORITES",t)},addToFavorites:function(e,t){e.commit("ADD_FAVORITES",t),localStorage.setItem("favorites",JSON.stringify(e.state.favorites)),e.commit("SET_FAVORITES",e.state.favorites),e.dispatch("getFavorites"),e.dispatch("alertModules/updateMessage",{message:"已加入我的最愛",status:"info"})},removeFavoritesItem:function(e,t){e.commit("DEL_FAVORITES",t),localStorage.setItem("favorites",JSON.stringify(e.state.favorites)),e.commit("SET_FAVORITES",e.state.favorites),e.dispatch("getFavorites"),e.dispatch("alertModules/updateMessage",{message:"已刪除我的最愛",status:"danger"})},delFavoriteAll:function(e){localStorage.removeItem("favorites"),e.dispatch("getFavorites")}},mutations:{ADD_FAVORITES:function(e,t){e.favorites.push(t)},DEL_FAVORITES:function(e,t){var n=e.favorites.findIndex((function(e){return e.id===t.id}));e.favorites.splice(n,1)},SET_FAVORITES:function(e,t){e.favorites=t},GET_PRODUCTS:function(e,t){e.products=t},GET_PRODUCT:function(e,t){e.product=t},CATEGORIES:function(e,t){var n=new Set;t.forEach((function(e){n.add(e.category)})),e.categories=Array.from(n)}},getters:{products:function(e){return e.products},product:function(e){return e.product},categories:function(e){return e.categories},favorites:function(e){return e.favorites}},modules:{alertModules:j}};o["default"].use(c["a"]);var V=new c["a"].Store({strict:!0,state:{isLoading:!1,order:{products:{},user:{}},orderStep:"create"},actions:{updateLoading:function(e,t){e.commit("LOADING",t)},getOrder:function(e,t){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("emily","/order/").concat(t);e.commit("LOADING",!0),a.a.get(n).then((function(t){e.commit("GET_ORDER",t.data.order),e.commit("LOADING",!1)}))},payOrder:function(e,t){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("emily","/pay/").concat(t);e.commit("LOADING",!0),a.a.post(n).then((function(n){n.data.success&&(e.dispatch("getOrder",t),e.dispatch("alertModules/updateMessage",{message:"付款完成",status:"info"})),e.commit("LOADING",!1)}))},setOrderStep:function(e,t){e.commit("SET_ORDER_STEP",t)}},mutations:{LOADING:function(e,t){e.isLoading=t},GET_ORDER:function(e,t){e.order=t},SET_ORDER_STEP:function(e,t){e.orderStep=t}},getters:{isLoading:function(e){return e.isLoading},order:function(e){return e.order},orderStep:function(e){return e.orderStep}},modules:{alertModules:j,productModules:x}}),B=(n("a9e3"),n("b680"),n("ac1f"),n("5319"),function(e){var t=Number(e);return"$".concat(t.toFixed(0).replace(/./g,(function(e,t,n){var o=t&&"."!==e&&(n.length-t)%3===0?", ".concat(e).replace(/\s/g,""):e;return o})))});o["default"].use(i.a,a.a),o["default"].use(c["a"]),o["default"].config.productionTip=!1,o["default"].component("Loading",d.a),o["default"].filter("currency",B),o["default"].filter("date",_),o["default"].use(p.a),m["a"].use([b["a"],g["a"],v["a"]]),o["default"].use(E()(m["a"])),Object.keys(S).forEach((function(e){Object(O["d"])(e,S[e])})),o["default"].component("ValidationProvider",O["b"]),o["default"].component("ValidationObserver",O["a"]),Object(O["e"])("zh_TW",y),Object(O["c"])({classes:{valid:"is-valid",invalid:"is-invalid"}}),a.a.defaults.withCredentials=!0,window.$=T.a,new o["default"]({created:function(){h.a.init({duration:600})},router:F,store:V,render:function(e){return e(R)}}).$mount("#app"),F.beforeEach((function(e,t,n){if(e.meta.requiresAuth){var o="".concat("https://vue-course-api.hexschool.io","/api/user/check");a.a.post(o).then((function(e){e.data.success?n():n({path:"/login"})}))}else n()}))},"5c0b":function(e,t,n){"use strict";n("9c0c")},"9c0c":function(e,t,n){}});
//# sourceMappingURL=app.645bb0e0.js.map